CREATE TABLE IF NOT EXISTS ranks (
    ID INT(2) PRIMARY KEY,
    Name VARCHAR(30) UNIQUE NOT NULL
);

INSERT IGNORE INTO ranks (id, name) VALUES (0,'User'),(1,'Employee'),(2,'Manager'),(3,'Admin');

CREATE TABLE IF NOT EXISTS users (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(35) NOT NULL,
    Password VARCHAR(128) NOT NULL,
    Email VARCHAR(50),
    ContactNo VARCHAR(15) NOT NULL,
    Rank INT(2) default '0',
	ProfileImage VARCHAR(128) NULL,
	PassportImage VARCHAR(128) NULL,
	VerifyImage VARCHAR(128) NULL,
	Code INT NULL,
	Verified INT(1) DEFAULT 0,
    FOREIGN KEY (Rank) REFERENCES ranks (ID) ON UPDATE CASCADE,
	UNIQUE(Email)
);

INSERT IGNORE INTO  users (Name,Password,Email,ContactNo,Rank,Verified) VALUE ('Arose Niazi','71CD76C3E9C101B44DE6603E7EEEBF951D06BD7E701AAE78A9209976548421121130A9599433CE57110729E9498E8596A7E05B9CA07B246EBC0FAABFEC8E1865','arose.niazi@yahoo.com','0315-2033333',3,1);

CREATE TABLE IF NOT EXISTS logs (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    Date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    User INT,
    Details VARCHAR(200),
    Rank INT(2),
    FOREIGN KEY (User) REFERENCES users (ID) ON UPDATE CASCADE ,
    FOREIGN KEY (Rank) REFERENCES ranks (ID) ON UPDATE CASCADE
);

